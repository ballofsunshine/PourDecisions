// import React, { useState } from 'react';
import './getAlldrinks.css'

import React, { useState, useEffect } from 'react';
import ReactDOM from "react-dom";
// import axios from "axios"
import AXIOS from "../../axios.config"
import { Link } from 'react-router-dom';


export default function GetAllDrinks() {

    // var drinks = [];

    // const handleSubmit = (event) => {
    //     //Prevent the page form reloading
    //     event.preventDefault();
        
    //     const result = async () => {
    //         let result = await AXIOS.get('/drinks/', {
                
    //         })
    //         .then(response => {
    //             setDrinks= response.data;
    //         })
    //         .catch(e => {
    //             console.log(e)
    //         })
    //     }
    //     result()
    // }

   

        const [drinks, setDrinks] = useState([]);

        const getData = async () => {

            const response = await AXIOS.get('/drinks/')
            
            console.log(response.data)
            
            setDrinks(response.data)
                
        }
    

    return (

    <div>
        <div class="searchBar" style={{display: 'flex',  justifyContent:'center', alignItems:'center', height: '20vh'}}>
           <div class="container">
            <form action="/" method="get" class="formSearch">
            <input
                type="text"
                id="header-search"
                placeholder="Search Drinks"
                name="s" 
            />
            {/* <a class = "button">Search</a> */}
            </form>
            <button class="buttonSearch">Search</button>
            </div>
        </div>

        {/* <div class="filters" style={{display: 'flex',  justifyContent:'center', alignItems:'center', height: '0vh'}}>
            <label htmlFor="header-search">
                <span className="visually-hidden">Enter an ingredient list, the name of drink or a creator to search for a drink</span>
            </label>
        </div> */}

        <div class="filters" style={{display: 'flex',  justifyContent:'center', alignItems:'center', height: '10vh'}}>
            <button type="button" class="fil filters">Alcoholic</button>
            <button type="button" class="fil filters">Mocktail</button>
            <button type="button" class="fil filters">Custom</button>
            <button type="button" class="fil filters">Newest</button>
            <button type="button" class="fil filters">Popularity</button>
        </div>  

         <div>

        <table >
            {/* <tr>
                <th scope='col'>Ratings</th>
                <th scope='col' >Name</th>
                <th scope='col' >Ingredients</th>
                <th scope='col' >Tags</th>
            </tr>

           
            <tr>
                <td >58</td>
                <td > Easy Whiskey Sour</td>
                <td >Ingredients: Bourbon, Lemon juice, Syrup</td>
                <td >Alcoholic</td>
                <a class = "buttonOther" href="http://localhost:3000"> View Details </a>
             </tr> */}

        </table>
        </div>

        <>
        <div>
            <div class="buttonContainer">
            <h3 class="drinkTitle">Drinks</h3>
            <button onClick={getData} class="buttonView">View Drinks</button>
            </div>
            {
                drinks && drinks.map((drinks, index) =>
                {
                    const drinkName = drinks.name
                    const drinkRating = drinks.rating
                    const drinkTag= drinks.tag
                
                
                return (
                    <div key={index} class="drinkListPad">
                        <div class="drinkListBox">
                        <h2 class="drinkListTitle"> {drinkName}</h2>
                        <h5 class="drinkList">{drinkRating} ratings     [{drinkTag}]</h5>
                        </div>
                    </div>
                );
                })}
        </div>
        </>
               
    </div>
    )

}